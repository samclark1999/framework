.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: .675rem 1.333rem;
  font-size: 1rem;
  font-weight: 600;
  line-height: 1;
  white-space: nowrap;
  text-decoration: none;
  cursor: pointer;
  border-width: 2px;
  border-style: solid;
  border-radius: 100rem;
  transition: background-color .15s ease, border-color .15s ease, color .15s ease;


  &:not(#search-btn):not(.btn-filter):not(.dropdown-toggle-btn) {

    > svg {
      position: relative;
      display: inline-block;
      margin-left: auto;
      transform: translateX(0);
      transition: transform 0.25s ease;
    }
  }

  *:not(.nav-link) {
    pointer-events: none;
  }
}

[data-bs-theme="dark"] {
  --btn-primary-border-color: var(--wp--preset--color--secondary);
}

[data-bs-theme="light"] {
  --btn-primary-border-color: var(--wp--preset--color--dark);
}

.btn {
  position: relative;

  &.btn-primary {
    background-color: var(--wp--preset--color--secondary);
    border-color: var(--wp--preset--color--secondary);
    color: var(--wp--preset--color--dark);

    &:is(:hover, :focus, :active, .linked:hover, .linked:focus, .linked:active) {

      background-color: var(--wp--preset--color--dark);
      border-color: var(--btn-primary-border-color);
      color: var(--wp--preset--color--white);
    }
  }

  &.btn-outline-primary {
    background-color: transparent;
    border-color: var(--wp--preset--color--secondary);
    color: var(--wp--preset--color--dark);

    &:is(:hover, :focus, :active, .linked:hover, .linked:focus, .linked:active) {

      background-color: var(--wp--preset--color--secondary);
      color: var(--wp--preset--color--dark);
    }
  }

  &.btn-secondary {
    background-color: var(--wp--preset--color--success);
    border-color: var(--wp--preset--color--success);
    color: var(--wp--preset--color--dark);

    &:is(:hover, :focus, :active, .linked:hover, .linked:focus, .linked:active) {

      background-color: var(--wp--preset--color--dark);
      border-color: var(--wp--preset--color--dark);
      color: var(--wp--preset--color--white);
    }
  }

  &.btn-outline-secondary {
    background-color: transparent;
    border-color: var(--wp--preset--color--success);
    color: var(--wp--preset--color--dark);

    &:is(:hover, :focus, :active, .linked:hover, .linked:focus, .linked:active) {

      background-color: var(--wp--preset--color--success);
      color: var(--wp--preset--color--dark);
    }
  }

  &.btn-white {
    background-color: var(--wp--preset--color--secondary);
    border-color: var(--wp--preset--color--secondary);
    color: var(--wp--preset--color--dark);

    &:is(:hover, :focus, :active, .linked:hover, .linked:focus, .linked:active) {

      background-color: transparent;
      color: var(--wp--preset--color--white);
    }
  }

  &.btn-outline-white {
    background-color: transparent;
    border-color: var(--wp--preset--color--secondary);
    color: var(--wp--preset--color--white);

    &:is(:hover, :focus, :active, .linked:hover, .linked:focus, .linked:active) {

      background-color: var(--wp--preset--color--secondary);
      color: var(--wp--preset--color--dark);
    }
  }

  &.btn-link {
    background-color: transparent;
    border-color: transparent;
    color: currentColor;
    line-height: 1.25;
    padding-left: 0;

	&:not(.dropdown-toggle-btn) {
	  padding-right: 37px;
	}

    /* Add icon using only ::before and ::after */
    &::before,
    &::after {
      content: '';
      position: absolute;
      width: 27px;
      height: 26px;
      /* Position the icon where you want it relative to your element */
      top: 50%;
      right: 0;
      transform: translateY(-50%);
      transform-origin: center;
      transition: background-color 0.15s ease-out, transform 0.5s ease-out;
    }

    /* Background/main shape */
    &::before {
      background-color: var(--wp--preset--color--primary); /* Original color */
      mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27 26'%3E%3Cpath d='M26.7447 10.4431C25.8417 6.2212 22.8639 2.75174 18.9832 1.37929C18.9211 1.35839 18.8453 1.35142 18.7971 1.35142C17.384 0.619912 15.7641 0.187972 13.9995 0.0625697C10.2359 -0.195201 7.20298 0.334274 4.99721 1.65099C0.578778 4.27747 -0.68954 10.1226 0.330629 14.5465C0.647708 15.9259 1.26808 17.3541 2.11592 18.6639C3.57035 22.8161 7.8716 25.0663 11.1251 25.7282C12.0281 25.9093 12.938 25.9999 13.841 25.9999C17.4736 25.9999 20.989 24.5368 23.4223 21.9034C26.3174 18.7753 27.5926 14.3863 26.7447 10.4431Z'/%3E%3C/svg%3E") no-repeat center / contain;
    }

    /* Foreground shape */
    &::after {
      background-color: var(--wp--preset--color--white); /* Original color */
      mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 27 26'%3E%3Cpath d='M11.0978 9.07772C12.1869 9.7326 13.2898 10.3108 14.3996 10.896C14.9165 11.1678 15.4335 11.4464 15.9505 11.7251C16.2193 11.8714 16.4881 12.0247 16.757 12.1779C17.0396 12.3451 17.3291 12.366 17.2602 12.8746C17.1775 13.4529 16.2469 14.1635 15.916 14.4491C15.4611 14.8462 14.9855 15.2015 14.503 15.529C13.4483 16.2465 12.2145 16.7272 11.277 17.7026C10.7531 18.246 11.0289 19.5627 11.7526 19.2631C13.1381 18.6919 14.5374 17.6399 15.8126 16.6924C16.8397 15.9261 18.4664 14.6929 18.6939 12.9373C18.9559 10.9587 17.1016 10.3666 16.0952 9.8371C14.6477 9.07075 13.1795 8.38104 11.7526 7.54503C11.0013 7.10612 10.3396 8.62488 11.1047 9.08469L11.0978 9.07772Z'/%3E%3C/svg%3E") no-repeat center / contain;
    }

    &:is(:hover, :focus, :active, .linked:hover, .linked:focus, .linked:active) {

      text-decoration: none;

      &::before {
        background-color: var(--wp--preset--color--secondary); /* Change to any color on hover */
        transform: translateY(-50%);
      }

      &::after {
        background-color: var(--wp--preset--color--dark); /* Change to any color on hover */
        //animation: pulse .5s infinite alternate ease-out;
      }
    }

    @keyframes pulse {
      0% {
        transform: translate(-1px, -50%);
      }
      100% {
        transform: translate(1px, -50%);
      }
    }

    [data-bs-theme="dark"] & {
      &::before {
        background-color: var(--wp--preset--color--secondary);
      }

      &::after {
        background-color: var(--wp--preset--color--dark);
      }

      &:hover, &:focus, &:active {
        &::before {
          background-color: var(--wp--preset--color--primary);
        }

        &::after {
          background-color: var(--wp--preset--color--white);
        }
      }
    }
  }
}

.wp-block-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: var(--wp--style--block-gap);
}

.wp-block-button {

  .wp-element-button {
    @extend .btn;

    white-space: nowrap !important;
  }

  &:not([class*="is-style-"]),
  &.is-style-btn-primary {

    .wp-element-button {
      @extend .btn-primary;
    }
  }

  &.is-style-btn-secondary {

    .wp-element-button {
      @extend .btn-secondary;
    }
  }

  &.is-style-btn-primary-outline {

    .wp-element-button {
      @extend .btn-outline-primary;
    }
  }

  &.is-style-btn-secondary-outline {

    .wp-element-button {
      @extend .btn-outline-secondary;
    }
  }

  &.is-style-btn-white {

    .wp-element-button {
      @extend .btn-white;
    }
  }

  &.is-style-btn-white-outline {

    .wp-element-button {
      @extend .btn-outline-white;
    }
  }

  &.is-style-btn-link {

    .wp-element-button {
      @extend .btn-link;
    }
  }
}

[data-bs-theme="dark"] {
  .btn {
    &.btn-outline-primary {
      background-color: transparent;
      border-color: var(--wp--preset--color--secondary);
      color: var(--wp--preset--color--white);

      &:is(:hover, :focus, :active, .linked:hover, .linked:focus, .linked:active) {
        background-color: var(--wp--preset--color--secondary);
        color: var(--wp--preset--color--dark);
      }
    }
  }
}